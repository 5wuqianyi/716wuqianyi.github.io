<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆä¸€16ç­47äººæ´»åŠ¨ç®¡ç†ç³»ç»Ÿ3.0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        /* èƒŒæ™¯è£…é¥°å…ƒç´  */
        .background-decoration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .decoration-circle {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            filter: blur(20px);
        }
        
        .circle-1 {
            width: 300px;
            height: 300px;
            background: linear-gradient(135deg, #3498db, #2ecc71);
            top: 10%;
            left: 5%;
            animation: float 20s infinite ease-in-out;
        }
        
        .circle-2 {
            width: 400px;
            height: 400px;
            background: linear-gradient(135deg, #e74c3c, #fd746c);
            bottom: 10%;
            right: 5%;
            animation: float 25s infinite ease-in-out reverse;
        }
        
        .circle-3 {
            width: 250px;
            height: 250px;
            background: linear-gradient(135deg, #4776E6, #8E54E9);
            top: 50%;
            right: 20%;
            animation: float 18s infinite ease-in-out;
        }
        
        .circle-4 {
            width: 350px;
            height: 350px;
            background: linear-gradient(135deg, #2ecc71, #3498db);
            bottom: 20%;
            left: 15%;
            animation: float 22s infinite ease-in-out reverse;
        }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(30px, 30px) rotate(120deg); }
            66% { transform: translate(-20px, 20px) rotate(240deg); }
        }
        
        /* é¦–é¡µæ ·å¼ */
        .home-page {
            min-height: 100vh;
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(240,240,240,0.9) 100%);
            padding: 2rem 0;
            position: relative;
            backdrop-filter: blur(10px);
        }
        
        .home-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
            padding: 0 1rem;
        }
        
        .home-title {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-size: 2.8rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            padding: 0.5rem 0;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2rem;
            margin-bottom: 3rem;
            padding: 1rem;
            background: rgba(255,255,255,0.8);
            border-radius: 12px;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .home-btn-group {
            display: flex;
            gap: 2rem;
            justify-content: center;
            margin-bottom: 5rem;
            flex-wrap: wrap;
        }
        
        .home-btn {
            padding: 1.2rem 3rem;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            min-width: 200px;
            position: relative;
            overflow: hidden;
        }
        
        .home-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        
        .home-btn:hover::before {
            left: 100%;
        }
        
        .sign-nav-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }
        
        .draw-nav-btn {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        }
        
        .groups-nav-btn {
            background: linear-gradient(135deg, #fd746c 0%, #ff9068 100%);
        }
        
        .vote-nav-btn {
            background: linear-gradient(135deg, #4776E6 0%, #8E54E9 100%);
        }
        
        .home-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
        }
        
        /* ä¸‹æ»‘å›¾æ–‡å±•ç¤ºåŒº */
        .home-gallery {
            width: 100%;
            max-width: 1000px;
            margin: 4rem auto 0;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            gap: 4rem;
        }
        
        .gallery-item {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            align-items: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        
        .gallery-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #3498db, #2ecc71, #fd746c, #4776E6);
        }
        
        .gallery-text {
            width: 100%;
            max-width: 600px;
            font-size: 1.1rem;
            color: #34495e;
            line-height: 1.8;
            text-align: left;
        }
        
        .gallery-text p {
            margin: 1rem 0;
            padding-left: 1rem;
            border-left: 4px solid #3498db;
        }
        
        /* åŠŸèƒ½é¡µé¢é€šç”¨æ ·å¼ */
        .function-page {
            display: none;
            min-height: 100vh;
            padding: 2rem;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .function-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: inherit;
            z-index: -1;
        }
        
        .sign-page {
            background: linear-gradient(135deg, rgba(67, 206, 162, 0.9) 0%, rgba(24, 90, 157, 0.9) 100%);
        }
        
        .draw-page {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%);
        }
        
        .groups-page {
            background: linear-gradient(135deg, rgba(253, 116, 108, 0.9) 0%, rgba(255, 144, 104, 0.9) 100%);
        }
        
        .vote-page {
            background: linear-gradient(135deg, rgba(71, 118, 230, 0.9) 0%, rgba(142, 84, 233, 0.9) 100%);
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(10px);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 2.2rem;
            background: linear-gradient(135deg, #2c3e50, #3498db);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .back-btn {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .back-btn:hover {
            background: linear-gradient(135deg, #7f8c8d 0%, #95a5a6 100%);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }
        
        /* ç­¾åˆ°ç³»ç»Ÿæ ·å¼ */
        .edit-area {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #34495e;
            font-size: 1.1rem;
        }
        
        #nameList, #nameListDraw {
            width: 100%;
            height: 150px;
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            resize: vertical;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.9);
        }
        
        #nameList:focus, #nameListDraw:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .btn-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        button {
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        button:hover:not(:disabled) {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        /* ç­¾åˆ°é¢æ¿ä¸“å±æ ·å¼ */
        #loadBtn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
        }
        
        #exportSignBtn {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
        }
        
        #resetSignBtn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }
        
        .sign-stat {
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 1.5rem;
            padding: 1rem;
            border-radius: 8px;
            background: linear-gradient(135deg, rgba(255, 245, 245, 0.9) 0%, rgba(254, 240, 240, 0.9) 100%);
            border: 2px solid #e74c3c;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.1);
        }
        
        .sign-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
            max-height: 500px;
            overflow-y: auto;
            padding: 1.5rem;
            border: 2px solid #eee;
            border-radius: 12px;
            background: rgba(255,255,255,0.9);
        }
        
        .sign-item {
            padding: 1.2rem 0.5rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .sign-item:hover {
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
            border-color: #3498db;
            transform: translateY(-2px);
        }
        
        .signed {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            font-weight: bold;
            border-color: #155724;
        }
        
        .signed:hover {
            background: linear-gradient(135deg, #c3e6cb 0%, #b1dfbb 100%);
        }
        
        /* æŠ½å¥–é¢æ¿ä¸“å±æ ·å¼ */
        #drawBtn {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
        }
        
        #resetDrawBtn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }
        
        .result-container {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(248, 249, 250, 0.9) 0%, rgba(240, 242, 245, 0.9) 100%);
            border-radius: 12px;
            margin-top: 1.5rem;
            border: 2px solid rgba(224, 224, 224, 0.8);
            position: relative;
            overflow: hidden;
        }
        
        .result-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #3498db, #2ecc71, #fd746c, #4776E6);
        }
        
        .result-container h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }
        
        #resultText {
            font-size: 2.5rem;
            font-weight: bold;
            color: #2c3e50;
            margin-top: 1rem;
            height: 4rem;
            line-height: 4rem;
            transition: all 0.3s ease;
        }
        
        .drawn-name {
            font-size: 2.5rem;
            font-weight: bold;
            color: #2c3e50;
            animation: bounce 0.5s ease, glow 1s ease-in-out infinite alternate;
        }
        
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 5px #fff, 0 0 10px #3498db, 0 0 15px #3498db; }
            to { text-shadow: 0 0 10px #fff, 0 0 20px #2ecc71, 0 0 30px #2ecc71; }
        }
        
        .prize-history {
            margin-top: 2rem;
            text-align: left;
        }
        
        .prize-history h4 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }
        
        #drawnList {
            list-style: none;
            max-height: 200px;
            overflow-y: auto;
            padding: 1rem;
            background: rgba(255,255,255,0.9);
            border-radius: 8px;
            border: 2px solid #eee;
        }
        
        #drawnList li {
            padding: 0.8rem;
            border-bottom: 1px solid #eee;
            font-weight: 500;
            color: #2c3e50;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            margin-bottom: 0.5rem;
            border-radius: 6px;
            border-left: 4px solid #2ecc71;
        }
        
        .rolling {
            color: #2c3e50;
            animation: flash 0.1s infinite, pulse 0.5s infinite alternate;
        }
        
        @keyframes flash {
            0% { opacity: 0.5; transform: scale(0.95); }
            100% { opacity: 1; transform: scale(1.05); }
        }
        
        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
        
        /* åˆ†ç»„ç®¡ç†ç³»ç»Ÿæ ·å¼ */
        .group-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        
        .group-controls input {
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            flex: 1;
            min-width: 200px;
            background: rgba(255,255,255,0.9);
        }
        
        .groups-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .group-box {
            background: linear-gradient(135deg, rgba(248, 249, 250, 0.9) 0%, rgba(233, 236, 239, 0.9) 100%);
            border-radius: 12px;
            padding: 1.5rem;
            border: 2px solid #e0e0e0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .group-box h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #3498db;
        }
        
        .group-members {
            min-height: 100px;
            max-height: 300px;
            overflow-y: auto;
            padding: 1rem;
            background: rgba(255,255,255,0.9);
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }
        
        .group-member {
            padding: 0.8rem;
            margin: 0.3rem 0;
            background: linear-gradient(135deg, rgba(241, 248, 255, 0.9) 0%, rgba(225, 240, 255, 0.9) 100%);
            border-radius: 6px;
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
        }
        
        .group-member:hover {
            background: linear-gradient(135deg, rgba(227, 242, 253, 0.9) 0%, rgba(210, 230, 250, 0.9) 100%);
            transform: translateX(5px);
        }
        
        /* æŠ•ç¥¨ç³»ç»Ÿæ ·å¼ */
        .vote-form {
            margin-bottom: 2rem;
        }
        
        .vote-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .vote-option {
            padding: 1.2rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 248, 248, 0.9) 100%);
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .vote-option:hover {
            border-color: #4776E6;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(71, 118, 230, 0.2);
        }
        
        .vote-option.selected {
            border-color: #4776E6;
            background: linear-gradient(135deg, #4776E6 0%, #8E54E9 100%);
            color: white;
            box-shadow: 0 4px 20px rgba(71, 118, 230, 0.3);
        }
        
        .vote-results {
            display: none;
            margin-top: 2rem;
        }
        
        .result-bar {
            margin: 1rem 0;
        }
        
        .result-bar span {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .bar {
            height: 30px;
            background: rgba(224, 224, 224, 0.8);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .fill {
            height: 100%;
            background: linear-gradient(90deg, #4776E6, #8E54E9);
            border-radius: 15px;
            width: 0%;
            transition: width 1s ease;
            position: relative;
        }
        
        .percentage {
            position: absolute;
            right: 10px;
            top: 0;
            height: 100%;
            display: flex;
            align-items: center;
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .home-title {
                font-size: 2rem;
            }
            
            .home-btn-group {
                flex-direction: column;
                align-items: center;
            }
            
            .home-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .sign-list {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
            
            .container {
                padding: 1.5rem;
            }
            
            #resultText {
                font-size: 2rem;
            }
            
            .group-controls {
                flex-direction: column;
            }
            
            .group-controls input {
                width: 100%;
            }
            
            .groups-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯è£…é¥°å…ƒç´  -->
    <div class="background-decoration">
        <div class="decoration-circle circle-1"></div>
        <div class="decoration-circle circle-2"></div>
        <div class="decoration-circle circle-3"></div>
        <div class="decoration-circle circle-4"></div>
    </div>

    <!-- é¦–é¡µ -->
    <div class="home-page" id="homePage">
        <div class="home-container">
            <h1 class="home-title">åˆä¸€16ç­47äººæ´»åŠ¨ç®¡ç†ç³»ç»Ÿ3.0</h1>
            <p class="subtitle">ç­¾åˆ°ã€æŠ½å¥–ã€åˆ†ç»„ã€æŠ•ç¥¨ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ 3.0å‡ºç‰ˆæ—¶é—´ï¼š2026.2.8 15:33</p>
            <div class="home-btn-group">
                <button class="home-btn sign-nav-btn" onclick="showPage('signPage')">è¿›å…¥ç­¾åˆ°ç³»ç»Ÿ</button>
                <button class="home-btn draw-nav-btn" onclick="showPage('drawPage')">è¿›å…¥æŠ½å¥–ç³»ç»Ÿ</button>
                <button class="home-btn groups-nav-btn" onclick="showPage('groupsPage')">åˆ†ç»„ç®¡ç†ç³»ç»Ÿ</button>
                <button class="home-btn vote-nav-btn" onclick="showPage('votePage')">ç­çº§æŠ•ç¥¨ç³»ç»Ÿ</button>
            </div>
        </div>

        <!-- ä¸‹æ»‘å›¾æ–‡å±•ç¤ºåŒº -->
        <div class="home-gallery">
            <div class="gallery-item">
                <h2 style="color: #2c3e50; width: 100%; text-align: center;">ç³»ç»ŸåŠŸèƒ½</h2>
                <div class="gallery-text">
                    <p><strong>ç­¾åˆ°ç³»ç»Ÿï¼š</strong></p>
                    <ul style="padding-left: 1.5rem; margin-top: 0.5rem;">
                        <li>ç‚¹å‡»åå•å³å¯å®Œæˆç­¾åˆ°</li>
                        <li>å®æ—¶æ˜¾ç¤ºç­¾åˆ°çŠ¶æ€</li>
                        <li>å¯¼å‡ºç­¾åˆ°æ•°æ®</li>
                    </ul>
                    
                    <p style="margin-top: 1rem;"><strong>æŠ½å¥–ç³»ç»Ÿï¼š</strong></p>
                    <ul style="padding-left: 1.5rem; margin-top: 0.5rem;">
                        <li>éšæœºæŠ½é€‰å¹¸è¿åŒå­¦</li>
                        <li>åŠ¨ç”»æ•ˆæœå±•ç¤º</li>
                        <li>è®°å½•å·²ä¸­å¥–åå•</li>
                    </ul>
                    
                    <p style="margin-top: 1rem;"><strong>åˆ†ç»„ç®¡ç†ç³»ç»Ÿï¼š</strong></p>
                    <ul style="padding-left: 1.5rem; margin-top: 0.5rem;">
                        <li>è‡ªåŠ¨éšæœºåˆ†ç»„</li>
                        <li>æ‰‹åŠ¨è°ƒæ•´æˆå‘˜</li>
                        <li>æŒ‡å®šå°ç»„é•¿</li>
                    </ul>
                    
                    <p style="margin-top: 1rem;"><strong>ç­çº§æŠ•ç¥¨ç³»ç»Ÿï¼š</strong></p>
                    <ul style="padding-left: 1.5rem; margin-top: 0.5rem;">
                        <li>åˆ›å»ºæŠ•ç¥¨ä¸»é¢˜</li>
                        <li>åŒ¿åæŠ•ç¥¨</li>
                        <li>å®æ—¶ç»“æœæ˜¾ç¤º</li>
                    </ul>
                </div>
            </div>
            
            <div class="gallery-item">
                <h2 style="color: #2c3e50; width: 100%; text-align: center;">ä½¿ç”¨è¯´æ˜</h2>
                <div class="gallery-text">
                    <p><strong>ç­¾åˆ°ç³»ç»Ÿä½¿ç”¨ï¼š</strong></p>
                    <ol style="padding-left: 1.5rem; margin-top: 0.5rem;">
                        <li>ç‚¹å‡»"åŠ è½½åå•"æŒ‰é’®åŠ è½½åŒå­¦åå•</li>
                        <li>ç‚¹å‡»åˆ—è¡¨ä¸­ä»»ä¸€åŒå­¦å§“åå³å¯æ ‡è®°ä¸ºå·²ç­¾åˆ°</li>
                        <li>å†æ¬¡ç‚¹å‡»å¯å–æ¶ˆç­¾åˆ°çŠ¶æ€</li>
                        <li>é¡¶éƒ¨å®æ—¶æ˜¾ç¤ºç­¾åˆ°ç»Ÿè®¡ä¿¡æ¯</li>
                    </ol>
                    
                    <p style="margin-top: 1rem;"><strong>æŠ½å¥–ç³»ç»Ÿä½¿ç”¨ï¼š</strong></p>
                    <ol style="padding-left: 1.5rem; margin-top: 0.5rem;">
                        <li>ç‚¹å‡»"å¼€å§‹æŠ½ç­¾"æŒ‰é’®å¼€å§‹éšæœºæŠ½é€‰</li>
                        <li>3ç§’æ»šåŠ¨åŠ¨ç”»åæ˜¾ç¤ºç»“æœ</li>
                        <li>è¢«æŠ½ä¸­çš„åŒå­¦ä¼šè®°å½•åœ¨ä¸‹æ–¹åˆ—è¡¨ä¸­</li>
                        <li>ç‚¹å‡»"é‡ç½®æŠ½å¥–"å¯é‡æ–°å¼€å§‹</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <!-- ç­¾åˆ°ç³»ç»Ÿé¡µé¢ -->
    <div class="function-page sign-page" id="signPage">
        <div class="container">
            <button class="back-btn" onclick="showPage('homePage')">è¿”å›é¦–é¡µ</button>
            <h1>47äººç­¾åˆ°ç³»ç»Ÿ</h1>
            <div class="edit-area">
                <label for="nameList">ç¼–è¾‘47ä½å‚ä¸è€…å§“åï¼ˆæ¯è¡Œ1äººï¼‰</label>
                <textarea id="nameList">
1è’‹å­Ÿèˆª
2ææ€ç¦
3é™ˆç‚è‡»
4å¼ èŠ¯ç¿Š
5é»„ä¸€æ ¡
6å´æ„ç† 
7é«˜ç†™éª
8éƒ‘è¯­è±
9ä½•å®¸æ˜•
10çŸ³è½©æ¯…
11å´å®›èŠ¯
12æœ±æ™¯æº
13æœèŠŠç¾½
14å¼ é‘«è¾°
15é™ˆæ˜Šå›
16é»„è¯­æ™¨
17è°¢å­æ©
18å§šæ³“è¿œ
19æ—å®£å«
20æ—çƒæ°
21é™ˆå­æ­£
22å­™é“­æµ©
23é‚±æ·»
24ç‹è¾°ç¥º
25è°¢é”¦æ˜Ÿ
26é™ˆé¦¨ç¿
27è°¢æ¢“è±ª
28é™ˆå¯è–‡
29æ—äºˆç¡•
30æ—æ¢¦åˆ
31ç‹å¿ƒé›…
32åº„æ˜Ÿå®‡
33éƒ‘æ¥šé’§
34é™ˆèŠŠæ…§
35ç‹è¯­èŒ
36éƒ‘ä»•æ™¨
37å´å®¥ç¿°
38é«˜æµ©é“­
39è”¡é›¨è¾°
40é™ˆé–é›…
41å½­æ™—ä¸€
42æ¨è§æ…ˆ
43éƒ‘å‡¯æ–‡
44è®¸æ´‹èµ«
45å‘¨å­è’™
46æ—å’ç‡‘
47æ—ç¥å½¤
                </textarea>
            </div>
            <div class="btn-group">
                <button id="loadBtn" onclick="loadNames()">åŠ è½½åå•</button>
                <button id="exportSignBtn" onclick="exportSignData()">å¯¼å‡ºç­¾åˆ°</button>
                <button id="resetSignBtn" onclick="resetSign()">é‡ç½®ç­¾åˆ°</button>
            </div>
            <div class="sign-container">
                <h3>ç­¾åˆ°åˆ—è¡¨</h3>
                <div class="sign-stat" id="signStat">æœªç­¾åˆ°äººæ•°ï¼š47äºº | å·²ç­¾åˆ°äººæ•°ï¼š0äºº</div>
                <div class="sign-list" id="signList"></div>
            </div>
        </div>
    </div>

    <!-- æŠ½å¥–ç³»ç»Ÿé¡µé¢ -->
    <div class="function-page draw-page" id="drawPage">
        <div class="container">
            <button class="back-btn" onclick="showPage('homePage')">è¿”å›é¦–é¡µ</button>
            <h1>47äººæŠ½å¥–ç³»ç»Ÿ</h1>
            <div class="edit-area">
                <label for="nameListDraw">å‚ä¸æŠ½å¥–åå•ï¼ˆä¸ç­¾åˆ°ç³»ç»ŸåŒæ­¥ï¼Œå¯ç¼–è¾‘ï¼‰</label>
                <textarea id="nameListDraw">
1è’‹å­Ÿèˆª
2ææ€ç¦
3é™ˆç‚è‡»
4å¼ èŠ¯ç¿Š
5é»„ä¸€æ ¡
6å´æ„ç† 
7é«˜ç†™éª
8éƒ‘è¯­è±
9ä½•å®¸æ˜•
10çŸ³è½©æ¯…
11å´å®›èŠ¯
12æœ±æ™¯æº
13æœèŠŠç¾½
14å¼ é‘«è¾°
15é™ˆæ˜Šå›
16é»„è¯­æ™¨
17è°¢å­æ©
18å§šæ³“è¿œ
19æ—å®£å«
20æ—çƒæ°
21é™ˆå­æ­£
22å­™é“­æµ©
23é‚±æ·»
24ç‹è¾°ç¥º
25è°¢é”¦æ˜Ÿ
26é™ˆé¦¨ç¿
27è°¢æ¢“è±ª
28é™ˆå¯è–‡
29æ—äºˆç¡•
30æ—æ¢¦åˆ
31ç‹å¿ƒé›…
32åº„æ˜Ÿå®‡
33éƒ‘æ¥šé’§
34é™ˆèŠŠæ…§
35ç‹è¯­èŒ
36éƒ‘ä»•æ™¨
37å´å®¥ç¿°
38é«˜æµ©é“­
39è”¡é›¨è¾°
40é™ˆé–é›…
41å½­æ™—ä¸€
42æ¨è§æ…ˆ
43éƒ‘å‡¯æ–‡
44è®¸æ´‹èµ«
45å‘¨å­è’™
46æ—å’ç‡‘
47æ—ç¥å½¤
                </textarea>
            </div>
            <div class="btn-group">
                <button id="drawBtn" onclick="drawName()">å¼€å§‹æŠ½å¥–</button>
                <button id="syncFromSignBtn" onclick="syncToDraw()">ä»ç­¾åˆ°åŒæ­¥</button>
                <button id="resetDrawBtn" onclick="resetDraw()">é‡ç½®æŠ½å¥–</button>
            </div>
            <div class="result-container">
                <h3>æŠ½å¥–ç»“æœ</h3>
                <div id="resultText">ç­‰å¾…æŠ½å¥–...</div>
            </div>
            <div class="prize-history">
                <h4>å·²ä¸­å¥–åå•ï¼š<span id="drawnCount">0</span>äºº</h4>
                <ul id="drawnList"></ul>
            </div>
        </div>
    </div>

    <!-- åˆ†ç»„ç®¡ç†ç³»ç»Ÿé¡µé¢ -->
    <div class="function-page groups-page" id="groupsPage">
        <div class="container">
            <button class="back-btn" onclick="showPage('homePage')">è¿”å›é¦–é¡µ</button>
            <h1>åˆ†ç»„ç®¡ç†ç³»ç»Ÿ</h1>
            
            <div class="group-controls">
                <input type="number" id="groupCount" min="2" max="10" value="4" placeholder="è¾“å…¥å°ç»„æ•°é‡ï¼ˆ2-10ï¼‰">
                <button onclick="autoCreateGroups()" style="background: linear-gradient(135deg, #fd746c 0%, #ff9068 100%); color: white;">éšæœºåˆ†ç»„</button>
                <button onclick="assignLeaders()" style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); color: white;">æŒ‡å®šç»„é•¿</button>
                <button onclick="exportGroups()" style="background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); color: white;">å¯¼å‡ºåˆ†ç»„</button>
                <button onclick="resetGroups()" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: white;">é‡ç½®åˆ†ç»„</button>
            </div>
            
            <div class="groups-container" id="groupsContainer">
                <!-- åˆ†ç»„å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- ç­çº§æŠ•ç¥¨ç³»ç»Ÿé¡µé¢ -->
    <div class="function-page vote-page" id="votePage">
        <div class="container">
            <button class="back-btn" onclick="showPage('homePage')">è¿”å›é¦–é¡µ</button>
            <h1>ç­çº§æŠ•ç¥¨ç³»ç»Ÿ</h1>
            
            <div class="vote-form">
                <input type="text" id="voteTitle" placeholder="è¾“å…¥æŠ•ç¥¨ä¸»é¢˜ï¼ˆå¦‚ï¼šç­çº§æ´»åŠ¨é€‰å€ï¼‰" style="width: 100%; padding: 1rem; margin-bottom: 1rem; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1.1rem;">
                <div id="voteOptions">
                    <input type="text" class="vote-option-input" placeholder="é€‰é¡¹1" style="width: 100%; padding: 1rem; margin-bottom: 0.5rem; border: 2px solid #e0e0e0; border-radius: 8px;">
                    <input type="text" class="vote-option-input" placeholder="é€‰é¡¹2" style="width: 100%; padding: 1rem; margin-bottom: 0.5rem; border: 2px solid #e0e0e0; border-radius: 8px;">
                </div>
                <button onclick="addVoteOption()" style="background: #95a5a6; color: white; margin-right: 1rem;">æ·»åŠ é€‰é¡¹</button>
                <button onclick="startVote()" style="background: linear-gradient(135deg, #4776E6 0%, #8E54E9 100%); color: white;">å¼€å§‹æŠ•ç¥¨</button>
            </div>
            
            <div class="vote-options" id="voteOptionsDisplay"></div>
            
            <div class="vote-results" id="voteResults">
                <h3>æŠ•ç¥¨ç»“æœ</h3>
                <div id="resultsContainer"></div>
                <button onclick="resetVote()" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: white; margin-top: 1rem;">é‡æ–°æŠ•ç¥¨</button>
            </div>
        </div>
    </div>

    <script>
        // é¡µé¢åˆ‡æ¢é€»è¾‘
        function showPage(pageId) {
            document.querySelectorAll('.home-page, .function-page').forEach(page => {
                page.style.display = 'none';
            });
            if(pageId === 'homePage') {
                document.getElementById(pageId).style.display = 'block';
            } else {
                document.getElementById(pageId).style.display = 'flex';
            }
        }

        // ç­¾åˆ°åŠŸèƒ½é€»è¾‘
        let nameList = [];
        const nameListEl = document.getElementById('nameList');
        const signListEl = document.getElementById('signList');
        const signStatEl = document.getElementById('signStat');
        const nameListDrawEl = document.getElementById('nameListDraw');
        
        function loadNames() {
            nameList = nameListEl.value.split('\n').map(name => name.trim()).filter(name => name.length > 0);
            if (nameList.length !== 47) {
                alert(`å½“å‰åå•å…±${nameList.length}äººï¼Œè¯·ç¡®ä¿æ­£å¥½47äººï¼`);
                return;
            }
            signListEl.innerHTML = '';
            nameList.forEach(name => {
                const item = document.createElement('div');
                item.className = 'sign-item';
                item.textContent = name;
                item.addEventListener('click', () => {
                    item.classList.toggle('signed');
                    item.textContent = item.classList.contains('signed') ? `${name}ï¼ˆå·²ç­¾åˆ°ï¼‰` : name;
                    updateSignStat();
                });
                signListEl.appendChild(item);
            });
            updateSignStat();
        }
        
        function updateSignStat() {
            const signedCount = document.querySelectorAll('.sign-item.signed').length;
            const unsignedCount = nameList.length - signedCount;
            signStatEl.textContent = `æœªç­¾åˆ°äººæ•°ï¼š${unsignedCount}äºº | å·²ç­¾åˆ°äººæ•°ï¼š${signedCount}äºº`;
        }
        
        function exportSignData() {
            const signed = document.querySelectorAll('.sign-item.signed');
            if (signed.length === 0) {
                alert('æ²¡æœ‰å·²ç­¾åˆ°çš„å­¦ç”Ÿ');
                return;
            }
            
            let data = "å·²ç­¾åˆ°å­¦ç”Ÿåå•ï¼š\n";
            data += "æ€»äººæ•°: " + nameList.length + " äºº\n";
            data += "å·²ç­¾åˆ°: " + signed.length + " äºº\n";
            data += "æœªç­¾åˆ°: " + (nameList.length - signed.length) + " äºº\n\n";
            data += "å·²ç­¾åˆ°å­¦ç”Ÿï¼š\n";
            signed.forEach((item, index) => {
                data += (index + 1) + ". " + item.textContent.replace('ï¼ˆå·²ç­¾åˆ°ï¼‰', '') + "\n";
            });
            
            data += "\næœªç­¾åˆ°å­¦ç”Ÿï¼š\n";
            const unsigned = document.querySelectorAll('.sign-item:not(.signed)');
            unsigned.forEach((item, index) => {
                data += (index + 1) + ". " + item.textContent + "\n";
            });
            
            // åˆ›å»ºä¸‹è½½
            const blob = new Blob([data], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ç­¾åˆ°æ•°æ®_' + new Date().toISOString().slice(0, 10) + '.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
        
        function resetSign() {
            if (!confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰ç­¾åˆ°çŠ¶æ€å—ï¼Ÿ')) return;
            document.querySelectorAll('.sign-item').forEach(item => {
                item.classList.remove('signed');
                const name = item.textContent.split('ï¼ˆ')[0];
                item.textContent = name;
            });
            updateSignStat();
        }
        
        function syncToDraw() {
            nameListDrawEl.value = nameListEl.value;
            initDrawNames();
        }

        // æŠ½å¥–åŠŸèƒ½é€»è¾‘
        let originalNames = [];
        let remainingNames = [];
        let drawnNames = [];
        const resultTextEl = document.getElementById('resultText');
        const drawBtnEl = document.getElementById('drawBtn');
        const drawnListEl = document.getElementById('drawnList');
        const drawnCountEl = document.getElementById('drawnCount');
        let rollingInterval = null;
        
        function initDrawNames() {
            originalNames = nameListDrawEl.value.split('\n').map(name => name.trim()).filter(name => name.length > 0);
            if (originalNames.length !== 47) {
                alert(`æŠ½å¥–åå•å…±${originalNames.length}äººï¼Œè¯·ç¡®ä¿æ­£å¥½47äººï¼`);
            }
            remainingNames = [...originalNames];
            drawnNames = [];
            updateDrawnList();
        }
        
        function getRandomName() {
            const randomIndex = Math.floor(Math.random() * originalNames.length);
            return originalNames[randomIndex];
        }
        
        function drawName() {
            if (remainingNames.length === 0) {
                alert('æ‰€æœ‰äººå‘˜å·²æŠ½å®Œï¼Œè¯·é‡ç½®ï¼');
                return;
            }
            
            drawBtnEl.disabled = true;
            drawBtnEl.textContent = "æŠ½å¥–ä¸­...";
            
            resultTextEl.classList.add('rolling');
            resultTextEl.textContent = "æŠ½å¥–ä¸­...";
            
            let count = 0;
            rollingInterval = setInterval(() => {
                resultTextEl.textContent = getRandomName();
                count++;
                if (count > 20) { // 3ç§’åè‡ªåŠ¨åœæ­¢
                    clearInterval(rollingInterval);
                    finishDraw();
                }
            }, 100);
        }
        
        function finishDraw() {
            resultTextEl.classList.remove('rolling');
            if (remainingNames.length > 0) {
                const randomIndex = Math.floor(Math.random() * remainingNames.length);
                const drawnName = remainingNames[randomIndex];
                resultTextEl.textContent = drawnName;
                resultTextEl.style.color = "#2c3e50";
                resultTextEl.style.transform = "scale(1.1)";
                
                resultTextEl.classList.add('drawn-name');
                setTimeout(() => {
                    resultTextEl.classList.remove('drawn-name');
                }, 1000);
                
                drawnNames.push(drawnName);
                remainingNames.splice(randomIndex, 1);
                updateDrawnList();
                
                setTimeout(() => {
                    alert(`æ­å–œ ${drawnName} ä¸­å¥–ï¼`);
                }, 100);
            }
            
            drawBtnEl.disabled = false;
            drawBtnEl.textContent = "å¼€å§‹æŠ½å¥–";
        }
        
        function updateDrawnList() {
            drawnListEl.innerHTML = '';
            drawnNames.forEach(name => {
                const li = document.createElement('li');
                li.textContent = name;
                drawnListEl.appendChild(li);
            });
            drawnCountEl.textContent = drawnNames.length;
        }
        
        function resetDraw() {
            if (!confirm('ç¡®å®šè¦é‡ç½®æŠ½å¥–å—ï¼Ÿè¿™å°†æ¸…ç©ºå·²ä¸­å¥–è®°å½•ã€‚')) return;
            remainingNames = [...originalNames];
            drawnNames = [];
            resultTextEl.textContent = 'ç­‰å¾…æŠ½å¥–...';
            resultTextEl.style.color = "#2c3e50";
            resultTextEl.style.transform = "scale(1)";
            if(rollingInterval) clearInterval(rollingInterval);
            resultTextEl.classList.remove('rolling');
            drawBtnEl.disabled = false;
            drawBtnEl.textContent = "å¼€å§‹æŠ½å¥–";
            updateDrawnList();
        }

        // åˆ†ç»„ç®¡ç†ç³»ç»Ÿé€»è¾‘
        let groups = [];
        let allStudents = [];
        
        function autoCreateGroups() {
            const groupCount = parseInt(document.getElementById('groupCount').value) || 4;
            if (groupCount < 2 || groupCount > 10) {
                alert('å°ç»„æ•°é‡éœ€è¦åœ¨2-10ä¹‹é—´');
                return;
            }
            
            allStudents = nameListEl.value.split('\n')
                .map(name => name.trim())
                .filter(name => name.length > 0);
            
            if (allStudents.length === 0) {
                alert('è¯·å…ˆåœ¨ç­¾åˆ°ç³»ç»ŸåŠ è½½åå•');
                return;
            }
            
            const shuffled = [...allStudents].sort(() => Math.random() - 0.5);
            groups = Array.from({length: groupCount}, () => []);
            
            shuffled.forEach((student, index) => {
                groups[index % groupCount].push(student);
            });
            
            renderGroups();
        }
        
        function renderGroups() {
            const container = document.getElementById('groupsContainer');
            container.innerHTML = '';
            
            groups.forEach((group, index) => {
                const groupBox = document.createElement('div');
                groupBox.className = 'group-box';
                
                const leader = group.find(member => member.includes('ğŸ‘‘')) || group[0];
                const leaderIndex = group.indexOf(leader);
                
                groupBox.innerHTML = `
                    <h3>ç¬¬${index + 1}å°ç»„ (${group.length}äºº) ${leader.includes('ğŸ‘‘') ? 'ğŸ‘‘' : ''}</h3>
                    <div class="group-members" id="group${index}">
                        ${group.map((member, i) => `
                            <div class="group-member" data-index="${i}" data-group="${index}" 
                                 ondblclick="makeLeader(${index}, ${i})"
                                 onclick="moveMember(${index}, ${i})">
                                ${i === leaderIndex ? 'ğŸ‘‘ ' : ''}${member.replace('ğŸ‘‘ ', '')}
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(groupBox);
            });
        }
        
        function assignLeaders() {
            if (groups.length === 0) {
                alert('è¯·å…ˆåˆ›å»ºåˆ†ç»„');
                return;
            }
            
            groups.forEach(group => {
                if (group.length > 0) {
                    group.forEach((member, i) => {
                        group[i] = member.replace('ğŸ‘‘ ', '');
                    });
                    const randomIndex = Math.floor(Math.random() * group.length);
                    group[randomIndex] = 'ğŸ‘‘ ' + group[randomIndex];
                }
            });
            
            renderGroups();
        }
        
        function makeLeader(groupIndex, memberIndex) {
            const group = groups[groupIndex];
            group.forEach((member, i) => {
                group[i] = member.replace('ğŸ‘‘ ', '');
            });
            group[memberIndex] = 'ğŸ‘‘ ' + group[memberIndex];
            renderGroups();
        }
        
        function moveMember(fromGroup, memberIndex) {
            if (groups.length <= 1) return;
            
            const member = groups[fromGroup][memberIndex];
            const targetGroup = prompt(`å°†"${member}"ç§»åŠ¨åˆ°å“ªä¸ªå°ç»„ï¼Ÿ(1-${groups.length})`);
            if (!targetGroup) return;
            
            const targetIndex = parseInt(targetGroup) - 1;
            if (targetIndex >= 0 && targetIndex < groups.length && targetIndex !== fromGroup) {
                groups[fromGroup].splice(memberIndex, 1);
                groups[targetIndex].push(member);
                renderGroups();
            }
        }
        
        function exportGroups() {
            if (groups.length === 0) {
                alert('è¯·å…ˆåˆ›å»ºåˆ†ç»„');
                return;
            }
            
            let exportText = 'åˆä¸€16ç­åˆ†ç»„æƒ…å†µ\n';
            exportText += `åˆ†ç»„æ—¶é—´ï¼š${new Date().toLocaleString()}\n`;
            exportText += `æ€»äººæ•°ï¼š${allStudents.length}äºº\n`;
            exportText += `å°ç»„æ•°é‡ï¼š${groups.length}ç»„\n\n`;
            
            groups.forEach((group, index) => {
                const leader = group.find(member => member.includes('ğŸ‘‘')) || 'æ— ';
                exportText += `ç¬¬${index + 1}å°ç»„ (${group.length}äººï¼Œç»„é•¿ï¼š${leader.replace('ğŸ‘‘ ', '')})\n`;
                group.forEach((member, i) => {
                    exportText += `  ${i + 1}. ${member.replace('ğŸ‘‘ ', '')}\n`;
                });
                exportText += '\n';
            });
            
            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `åˆ†ç»„ç»“æœ_${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
        
        function resetGroups() {
            if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰åˆ†ç»„å—ï¼Ÿ')) {
                groups = [];
                document.getElementById('groupsContainer').innerHTML = '';
            }
        }

        // æŠ•ç¥¨ç³»ç»Ÿé€»è¾‘
        let voteData = {
            title: '',
            options: [],
            votes: {},
            votedStudents: new Set()
        };
        
        function addVoteOption() {
            const container = document.getElementById('voteOptions');
            const optionCount = container.children.length;
            const newInput = document.createElement('input');
            newInput.type = 'text';
            newInput.className = 'vote-option-input';
            newInput.placeholder = `é€‰é¡¹${optionCount + 1}`;
            newInput.style = 'width: 100%; padding: 1rem; margin-bottom: 0.5rem; border: 2px solid #e0e0e0; border-radius: 8px;';
            container.appendChild(newInput);
        }
        
        function startVote() {
            const title = document.getElementById('voteTitle').value.trim();
            if (!title) {
                alert('è¯·è¾“å…¥æŠ•ç¥¨ä¸»é¢˜');
                return;
            }
            
            const options = [];
            const inputs = document.querySelectorAll('.vote-option-input');
            inputs.forEach(input => {
                if (input.value.trim()) {
                    options.push(input.value.trim());
                }
            });
            
            if (options.length < 2) {
                alert('è‡³å°‘éœ€è¦2ä¸ªé€‰é¡¹');
                return;
            }
            
            voteData = {
                title,
                options,
                votes: {},
                votedStudents: new Set()
            };
            
            options.forEach(option => {
                voteData.votes[option] = 0;
            });
            
            displayVoteOptions();
        }
        
        function displayVoteOptions() {
            const container = document.getElementById('voteOptionsDisplay');
            container.innerHTML = '';
            
            container.innerHTML = `<h3 style="text-align: center; margin-bottom: 1rem;">${voteData.title}</h3>`;
            
            voteData.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'vote-option';
                optionDiv.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
                optionDiv.onclick = () => castVote(option);
                container.appendChild(optionDiv);
            });
            
            document.querySelector('.vote-form').style.display = 'none';
            document.getElementById('voteResults').style.display = 'none';
        }
        
        function castVote(option) {
            if (voteData.votes.hasOwnProperty(option)) {
                voteData.votes[option]++;
                showResults();
            }
        }
        
        function showResults() {
            const resultsContainer = document.getElementById('resultsContainer');
            const totalVotes = Object.values(voteData.votes).reduce((a, b) => a + b, 0);
            
            resultsContainer.innerHTML = `
                <h4 style="text-align: center; margin-bottom: 1.5rem;">æ€»æŠ•ç¥¨æ•°ï¼š${totalVotes}</h4>
            `;
            
            Object.entries(voteData.votes).forEach(([option, votes]) => {
                const percentage = totalVotes > 0 ? ((votes / totalVotes) * 100).toFixed(1) : 0;
                resultsContainer.innerHTML += `
                    <div class="result-bar">
                        <span>${option} (${votes}ç¥¨)</span>
                        <div class="bar">
                            <div class="fill" style="width: ${percentage}%">
                                <span class="percentage">${percentage}%</span>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            document.getElementById('voteResults').style.display = 'block';
            
            setTimeout(() => {
                document.querySelectorAll('.fill').forEach(fill => {
                    fill.style.width = fill.style.width;
                });
            }, 100);
        }
        
        function resetVote() {
            voteData = {
                title: '',
                options: [],
                votes: {},
                votedStudents: new Set()
            };
            document.getElementById('voteTitle').value = '';
            document.querySelectorAll('.vote-option-input').forEach((input, index) => {
                input.value = index < 2 ? '' : input.value;
            });
            document.querySelector('.vote-form').style.display = 'block';
            document.getElementById('voteResults').style.display = 'none';
            document.getElementById('voteOptionsDisplay').innerHTML = '';
        }

        // åˆå§‹åŒ–æ—¶åŠ è½½ç­¾åˆ°åå•
        window.onload = () => {
            loadNames();
            initDrawNames();
        };
    </script>
</body>
</html>